"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[178],{7783:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(3645),a=n.n(o)()((function(e){return e[1]}));a.push([e.id,".modal-appear-from-top[data-v-61420732]{opacity:0;transform:translateY(-100%);transition:all .2s ease}.modal-appear-from-top.open[data-v-61420732]{opacity:1;transform:translateY(0)}.modal-appear[data-v-61420732]{opacity:0;transform:scale(0);transition:all .2s ease}.modal-appear.open[data-v-61420732]{opacity:1;transform:scale(1)}.backdrop[data-v-61420732]{background-color:transparent;transition:background-color .2s ease}.backdrop.open[data-v-61420732]{background-color:rgba(0,0,0,.25)}",""]);const r=a},586:(e,t,n)=>{n.d(t,{Z:()=>b});var o=n(6252),a=n(3577),r={class:"w-full"},i=["for"],s={key:1,class:"flex"},l=["id","name","type","placeholder","pattern","readonly","value"],d={class:"w-auto flex items-center px-2 border-2 border-gray-200 rounded shadow-sm border-l-0 rounded-l-none bg-gray-50"},c={class:"inline-flex items-center"},u=["checked"],p={class:"ml-4 text-lg cursor-pointer whitespace-nowrap"},m=["id","name","type","placeholder","pattern","readonly","value"],h={key:3,class:"text-red-700 mt-2 text-sm"};var f=n(2262);const w={emits:["autosave","update:modelValue","update:modelCheckbox"],props:{modelValue:{type:String,default:""},modelCheckbox:{type:Boolean},name:{type:String,required:!0},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},pattern:{type:String,default:""},readonly:{type:Boolean},error:{type:String,default:""},switchLabel:{type:String,default:""}},setup:function(e,t){var n=(0,f.iH)(null);return{input:n,focus:function(){n.value.focus()},change:function(e){t.emit("update:modelCheckbox",e.target.checked),t.emit("autosave")}}}};const b=(0,n(3744).Z)(w,[["render",function(e,t,n,f,w,b){return(0,o.wg)(),(0,o.iD)("div",r,[n.label?((0,o.wg)(),(0,o.iD)("label",{key:0,class:"form-label",for:n.name},(0,a.zw)(n.label)+" :",9,i)):(0,o.kq)("",!0),n.switchLabel?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("input",{id:n.name,name:n.name,ref:"input",onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",e.$refs.input.value)}),onChange:t[1]||(t[1]=function(t){return e.$emit("autosave")}),type:n.type,placeholder:n.placeholder,pattern:n.pattern,readonly:n.readonly,value:n.modelValue,class:(0,a.C_)(["form-input border-r-0 rounded-r-none",{"border-red-400":n.error}])},null,42,l),(0,o._)("div",d,[(0,o._)("label",c,[(0,o._)("input",{type:"checkbox",class:"shadow-xs h-6 w-6 transition-all duration-200 ease-in-out appearance-none color inline-block align-middle border border-gray-400 select-none flex-shrink-0 rounded cursor-pointer focus:outline-none",checked:n.modelCheckbox,onChange:t[2]||(t[2]=function(){return f.change&&f.change.apply(f,arguments)})},null,40,u),(0,o._)("span",p,(0,a.zw)(n.switchLabel),1)])])])):((0,o.wg)(),(0,o.iD)("input",{key:2,id:n.name,name:n.name,ref:"input",onInput:t[3]||(t[3]=function(t){return e.$emit("update:modelValue",e.$refs.input.value)}),onChange:t[4]||(t[4]=function(t){return e.$emit("autosave")}),type:n.type,placeholder:n.placeholder,pattern:n.pattern,readonly:n.readonly,value:n.modelValue,class:(0,a.C_)(["form-input",{"border-red-400 text-red-400":n.error}])},null,42,m)),n.error?((0,o.wg)(),(0,o.iD)("div",h,(0,a.zw)(n.error),1)):(0,o.kq)("",!0)])}]])},3917:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(6252),a=["disabled"],r={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},i=[(0,o._)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,o._)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)];const s={emits:["click"],props:{disabled:{type:Boolean},spin:{type:Boolean}}};const l=(0,n(3744).Z)(s,[["render",function(e,t,n,s,l,d){return(0,o.wg)(),(0,o.iD)("button",{type:"button",class:"inline-flex justify-center items-center btn",onClick:t[0]||(t[0]=function(t){return e.$emit("click")}),disabled:n.disabled||n.spin},[n.spin?((0,o.wg)(),(0,o.iD)("svg",r,i)):(0,o.kq)("",!0),(0,o.WI)(e.$slots,"default")],8,a)}]])},1539:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(6252),a=n(3577),r=n(9963),i={class:"flex justify-between items-center"};const s={emits:["opened","closed"],components:{Icon:n(7877).Z},props:{widthMode:{type:String,default:"document"}},data:function(){return{show:!1,animate:!1}},methods:{open:function(){var e=this;document.addEventListener("transitionend",this.openTransitionEnd),this.show=!0,this.doubleRequestAnimationFrame((function(){e.animate=!0}))},close:function(){document.addEventListener("transitionend",this.closeTransitionEnd),this.animate=!1},doubleRequestAnimationFrame:function(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))},openTransitionEnd:function(e){"DIV"==e.target.tagName&&"transform"==e.propertyName&&(this.$emit("opened"),document.removeEventListener("transitionend",this.openTransitionEnd))},closeTransitionEnd:function(e){"DIV"==e.target.tagName&&"transform"==e.propertyName&&(this.$emit("closed"),this.show=!1,document.removeEventListener("transitionend",this.closeTransitionEnd))}}};var l=n(3379),d=n.n(l),c=n(7783),u={insert:"head",singleton:!1};d()(c.Z,u);c.Z.locals;const p=(0,n(3744).Z)(s,[["render",function(e,t,n,s,l,d){var c=(0,o.up)("icon");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)(["inset-0 z-30 fixed flex items-center justify-center backdrop",{open:l.animate}])},[l.show?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,a.C_)(["bg-soft-theme-light rounded shadow p-4 md:p-8 xl:p-10 modal-appear-from-top",{open:l.animate,"w-11/12 md:10/12":"document"==n.widthMode,"w-11/12 sm:10/12 md:w-3/5 xl:w-2/5":"form-cols-1"==n.widthMode}])},[(0,o._)("div",i,[(0,o._)("div",null,[(0,o.WI)(e.$slots,"header",{},void 0,!0)]),(0,o._)("button",{onClick:t[0]||(t[0]=function(e){return d.close()}),class:"block p-2 rounded-full hover:bg-white bg-soft-theme-light transition-colors ease-in-out duration-200"},[(0,o.Wm)(c,{name:"times",class:"w-4 h-4"})])]),(0,o._)("div",null,[(0,o.WI)(e.$slots,"body",{},void 0,!0)]),(0,o._)("div",null,[(0,o.WI)(e.$slots,"footer",{},void 0,!0)])],2)):(0,o.kq)("",!0)],2)),[[r.F8,l.show]])}],["__scopeId","data-v-61420732"]])},5143:(e,t,n)=>{n.d(t,{Z:()=>y});var o=n(6252),a=n(2262),r=n(3577),i=n(2836),s=n(7877),l=n(5937),d=n.n(l),c=n(3493),u=n.n(c),p={class:"flex items-center w-full md:w-auto"},m={class:"flex justify-end form-input md:w-auto border-l-0 rounded-l-none"},h={class:"flex items-center cursor-pointer select-none group"},f=(0,o._)("div",null,"Scope : ",-1),w={class:"group-hover:text-bitter-theme-light focus:text-bitter-theme-light mr-1 whitespace-no-wrap"},b={class:"text-thick-theme-light group-hover:text-bitter-theme-light focus:text-bitter-theme-light"},g={class:"mt-2 py-2 shadow-xl bg-white text-thick-theme-light cursor-pointer rounded text-sm"},v=["onClick"];const y={props:{scopes:{type:Array,default:function(){return[]}},form:{type:Object,required:!0}},emits:["searchChanged","scopeChanged"],setup:function(e){var t=e;return(0,o.YP)((function(){return t.form}),u()((function(e){var t=d()(e);console.log(t)}),800),{deep:!0}),function(t,n){return(0,o.wg)(),(0,o.iD)("div",p,[(0,o._)("input",{class:"form-input md:w-auto border-r-0 rounded-r-none",type:"text",name:"search",onInput:n[0]||(n[0]=function(e){return t.$emit("searchChanged",e.target.value)}),placeholder:"search...",autocomplete:"off"},null,32),(0,o._)("div",m,[(0,o.Wm)((0,a.SU)(i.Z),null,{default:(0,o.w5)((function(){return[(0,o._)("div",h,[f,(0,o._)("div",w,[(0,o._)("span",b,(0,r.zw)(e.form.scope),1)]),(0,o.Wm)((0,a.SU)(s.Z),{class:"w-4 h-4 text-thick-theme-light group-hover:text-bitter-theme-light focus:text-bitter-theme-light",name:"double-down"})])]})),dropdown:(0,o.w5)((function(){return[(0,o._)("div",g,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.scopes,(function(e,n){return(0,o.wg)(),(0,o.iD)("button",{class:"block w-full text-left font-semibold px-6 py-2 transition-colors duration-200 ease-out hover:bg-soft-theme-light hover:text-bitter-theme-light",key:n,onClick:function(n){return t.$emit("scopeChanged",e)}},(0,r.zw)(e),9,v)})),128))])]})),_:1})])])}}}},5178:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var o=n(6252),a=n(2262),r=n(3577),i=n(7877),s=n(9963),l={class:"font-semibold text-thick-theme-light"},d={class:"py-4 my-2 md:py-6 md:my-4 border-t border-b border-bitter-theme-light"},c=(0,o.Uk)(" SEARCH "),u=(0,o._)("hr",{class:"my-4 md:my-6"},null,-1),p=(0,o._)("span",{class:"form-label block"},"Admission Data",-1),m={class:"bg-gray-100 text-gray-100 whitespace-nowrap"},h={key:1,class:"bg-white rounded shadow p-2 lg:p-4 text-sm"},f={class:"text-thick-theme-light uppercase font-semibold"},w={class:"flex justify-end items-center"},b=["disabled"];var g=n(1539),v=n(586),y=n(3917);const x={components:{FormInput:v.Z,Modal:g.Z,SpinnerButton:y.Z},emits:["confirmed"],props:{heading:{type:String,default:"Search AN"},confirmLabel:{type:String,default:"CONFIRM"}},setup:function(e,t){var n=(0,a.iH)(null),r=(0,a.iH)(null),i=(0,a.iH)(""),s=(0,a.iH)(""),l=(0,a.iH)(!1),d=(0,a.qj)({hn:"",name:"",gender:"",age:"",ward_admit:"",admitted_at:""});return{modal:n,anInput:r,open:function(){n.value.open(),(0,o.Y3)((function(){return r.value.focus()}))},busy:l,an:i,anError:s,admission:d,searchAn:function(){l.value=!0,s.value="",d.hn="",window.axios.get(window.route("resources.api.admissions.show",i.value)).then((function(e){e.data.found?(d.hn=e.data.hn,d.name=e.data.name,d.gender=e.data.gender,d.age=e.data.age,d.ward_admit=e.data.ward_admit,d.admitted_at=e.data.admitted_at):s.value=e.data.message})).catch((function(e){console.log(e)})).finally((function(){return l.value=!1}))},resetAdmission:function(){i.value="",s.value="",d.hn=""},confirm:function(){n.value.close(),t.emit("confirmed",i.value)}}}};const _=(0,n(3744).Z)(x,[["render",function(e,t,n,a,i,g){var v=(0,o.up)("FormInput"),y=(0,o.up)("SpinnerButton"),x=(0,o.up)("Modal");return(0,o.wg)(),(0,o.j4)(o.lR,{to:"body"},[(0,o.Wm)(x,{ref:"modal","width-mode":"form-cols-1",onClosed:a.resetAdmission},{header:(0,o.w5)((function(){return[(0,o._)("div",l,(0,r.zw)(n.heading),1)]})),body:(0,o.w5)((function(){return[(0,o._)("div",d,[(0,o.Wm)(v,{name:"an",label:"an",modelValue:a.an,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.an=e}),pattern:"\\d*",type:"number",ref:"anInput",error:a.anError,onKeydown:(0,s.D2)(a.searchAn,["enter"])},null,8,["modelValue","error","onKeydown"]),(0,o.Wm)(y,{spin:a.busy,class:"btn-dark w-full mt-2",onClick:a.searchAn,disabled:!a.an.length},{default:(0,o.w5)((function(){return[c]})),_:1},8,["spin","onClick","disabled"]),u,p,a.admission.hn?((0,o.wg)(),(0,o.iD)("div",h,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(Object.keys(a.admission),(function(e){return(0,o.wg)(),(0,o.iD)("p",{class:"mt-1 whitespace-nowrap",key:e},[(0,o._)("span",f,(0,r.zw)(e.replaceAll("_"," "))+" : ",1),(0,o.Uk)(" "+(0,r.zw)(a.admission[e]),1)])})),128))])):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,r.C_)(["bg-white rounded shadow p-2 lg:p-4 text-sm",{"animate-pulse":a.busy}])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(Object.keys(a.admission),(function(e){return(0,o.wg)(),(0,o.iD)("div",{class:"mt-1",key:e},[(0,o._)("span",m,(0,r.zw)(e)+" placeholder ",1)])})),128))],2))])]})),footer:(0,o.w5)((function(){return[(0,o._)("div",w,[(0,o._)("button",{class:"btn btn-bitter",onClick:t[1]||(t[1]=function(){return a.confirm&&a.confirm.apply(a,arguments)}),disabled:!a.admission.hn},(0,r.zw)(n.confirmLabel),9,b)])]})),_:1},8,["onClosed"])])}]]);var k=n(5143),C=n(9038),S={class:"md:pb-12"},D={class:"flex flex-col-reverse md:flex-row justify-between items-center mb-4"},z={class:"bg-white rounded shadow overflow-x-auto hidden md:block"},Z={class:"w-full whitespace-no-wrap"},I=(0,o._)("tr",{class:"text-left font-semibold"},[(0,o._)("th",{class:"px-6 pt-6 pb-4"}," AN "),(0,o._)("th",{class:"px-6 pt-6 pb-4"}," HN "),(0,o._)("th",{class:"px-6 pt-6 pb-4"}," Name "),(0,o._)("th",{class:"px-6 pt-6 pb-4",colspan:"2"}," Ward ")],-1),A={class:"px-6 py4 border-t"},H={class:"flex items-center"},W={class:"px-6 py4 border-t"},U={class:"flex items-center"},$={class:"px-6 py4 border-t"},j={class:"flex items-center"},q={class:"px-6 py4 border-t"},E={class:"flex items-center"},N={class:"border-t"},V={class:"p-2 rounded-full bg-white hover:bg-alt-theme-light transition-colors ease-in-out duration-200"},F={class:"md:hidden"},Y={class:"my-2"},L={class:"my-2"};const B={props:{cases:{type:Object,required:!0},filters:{type:Object,required:!0}},setup:function(e){var t=e,n=(0,a.iH)(null),s=(0,C.cI)({an:null}),l=(0,C.cI)({search:t.filters.search,scope:t.filters.scope}),d=function(e){s.an=e,s.post(window.route("procedures.acute-hemodialysis.store"))};return function(t,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",S,[(0,o._)("div",D,[(0,o.Wm)((0,a.SU)(k.Z),{scopes:["active","discharged","all"],form:(0,a.SU)(l),onSearchChanged:s[0]||(s[0]=function(e){return(0,a.SU)(l).search=e}),onScopeChanged:s[1]||(s[1]=function(e){return(0,a.SU)(l).scope=e})},null,8,["form"]),(0,o._)("button",{class:"btn btn-bitter w-full mb-4 md:w-auto md:px-4 md:mb-0",onClick:s[2]||(s[2]=function(e){return t.$refs.admissionForm.open()})}," Create New Case ")]),(0,o._)("div",z,[(0,o._)("table",Z,[I,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.cases.data,(function(e,n){return(0,o.wg)(),(0,o.iD)("tr",{class:"focus-within:bg-alt-theme-light",key:n},[(0,o._)("td",A,[(0,o._)("div",H,(0,r.zw)(e.an),1)]),(0,o._)("td",W,[(0,o._)("div",U,(0,r.zw)(e.hn),1)]),(0,o._)("td",$,[(0,o._)("div",j,(0,r.zw)(e.patient_name),1)]),(0,o._)("td",q,[(0,o._)("div",E,(0,r.zw)(e.ward),1)]),(0,o._)("td",N,[(0,o.Wm)((0,a.SU)(C.rU),{class:"px-4 py-2 flex items-center focus:text-alt-theme-light",href:t.route("procedures.acute-hemodialysis.edit",e.slug)},{default:(0,o.w5)((function(){return[(0,o._)("div",V,[(0,o.Wm)((0,a.SU)(i.Z),{class:"w-4 h-4 text-thick-theme-light",name:"double-right"})])]})),_:2},1032,["href"])])])})),128))])]),(0,o._)("div",F,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.cases.data,(function(e,n){return(0,o.wg)(),(0,o.iD)("div",{class:"bg-white rounded shadow my-4 p-4",key:n},[(0,o.Wm)((0,a.SU)(C.rU),{class:"flex items-center justify-between focus:text-alt-theme-light",href:t.route("procedures.acute-hemodialysis.edit",e)},{default:(0,o.w5)((function(){return[(0,o._)("div",null,[(0,o._)("div",Y," HN: "+(0,r.zw)(e.hn)+" "+(0,r.zw)(e.patient_name),1),(0,o._)("div",L," AN: "+(0,r.zw)(e.an)+" "+(0,r.zw)(e.ward),1)]),(0,o.Wm)((0,a.SU)(i.Z),{class:"w-4 h-4 text-thick-theme-light",name:"double-right"})]})),_:2},1032,["href"])])})),128))])]),(0,o.Wm)((0,a.SU)(_),{ref:function(e,t){t.admissionForm=e,n.value=e},onConfirmed:d},null,512)],64)}}}}}]);