"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[972],{7783:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(3645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".modal-appear-from-top[data-v-61420732]{opacity:0;transform:translateY(-100%);transition:all .2s ease}.modal-appear-from-top.open[data-v-61420732]{opacity:1;transform:translateY(0)}.modal-appear[data-v-61420732]{opacity:0;transform:scale(0);transition:all .2s ease}.modal-appear.open[data-v-61420732]{opacity:1;transform:scale(1)}.backdrop[data-v-61420732]{background-color:transparent;transition:background-color .2s ease}.backdrop.open[data-v-61420732]{background-color:rgba(0,0,0,.25)}",""]);const o=r},4511:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(6252),r=n(3577),o={class:"w-full"},i=["for"],l={key:1,class:"flex"},s=["id","name","type","placeholder","pattern","readonly","value"],d={class:"w-auto flex items-center px-2 border-2 border-gray-200 rounded shadow-sm border-l-0 rounded-l-none bg-gray-50"},c={class:"inline-flex items-center"},u=["checked"],m={class:"ml-4 text-lg cursor-pointer whitespace-nowrap"},p=["id","name","type","placeholder","pattern","readonly","value"],f={key:3,class:"text-red-700 mt-2 text-sm"};var h=n(2262);const w={emits:["autosave","update:modelValue","update:modelCheckbox"],props:{modelValue:{type:String,default:""},modelCheckbox:{type:Boolean},name:{type:String,required:!0},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},pattern:{type:String,default:""},readonly:{type:Boolean},error:{type:String,default:""},switchLabel:{type:String,default:""}},setup:function(e,t){var n=(0,h.iH)(null);return{input:n,focus:function(){n.value.focus()},change:function(e){t.emit("update:modelCheckbox",e.target.checked),t.emit("autosave")}}}};const g=(0,n(3744).Z)(w,[["render",function(e,t,n,h,w,g){return(0,a.wg)(),(0,a.iD)("div",o,[n.label?((0,a.wg)(),(0,a.iD)("label",{key:0,class:"form-label",for:n.name},(0,r.zw)(n.label)+" :",9,i)):(0,a.kq)("",!0),n.switchLabel?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("input",{id:n.name,name:n.name,ref:"input",onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",e.$refs.input.value)}),onChange:t[1]||(t[1]=function(t){return e.$emit("autosave")}),type:n.type,placeholder:n.placeholder,pattern:n.pattern,readonly:n.readonly,value:n.modelValue,class:(0,r.C_)(["form-input border-r-0 rounded-r-none",{"border-red-400":n.error}])},null,42,s),(0,a._)("div",d,[(0,a._)("label",c,[(0,a._)("input",{type:"checkbox",class:"shadow-xs h-6 w-6 transition-all duration-200 ease-in-out appearance-none color inline-block align-middle border border-gray-400 select-none flex-shrink-0 rounded cursor-pointer focus:outline-none",checked:n.modelCheckbox,onChange:t[2]||(t[2]=function(){return h.change&&h.change.apply(h,arguments)})},null,40,u),(0,a._)("span",m,(0,r.zw)(n.switchLabel),1)])])])):((0,a.wg)(),(0,a.iD)("input",{key:2,id:n.name,name:n.name,ref:"input",onInput:t[3]||(t[3]=function(t){return e.$emit("update:modelValue",e.$refs.input.value)}),onChange:t[4]||(t[4]=function(t){return e.$emit("autosave")}),type:n.type,placeholder:n.placeholder,pattern:n.pattern,readonly:n.readonly,value:n.modelValue,class:(0,r.C_)(["form-input",{"border-red-400 text-red-400":n.error}])},null,42,p)),n.error?((0,a.wg)(),(0,a.iD)("div",f,(0,r.zw)(n.error),1)):(0,a.kq)("",!0)])}]])},8019:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(6252),r=["disabled"],o={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},i=[(0,a._)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,a._)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)];const l={emits:["click"],props:{disabled:{type:Boolean},spin:{type:Boolean}}};const s=(0,n(3744).Z)(l,[["render",function(e,t,n,l,s,d){return(0,a.wg)(),(0,a.iD)("button",{type:"button",class:"inline-flex justify-center items-center btn",onClick:t[0]||(t[0]=function(t){return e.$emit("click")}),disabled:n.disabled||n.spin},[n.spin?((0,a.wg)(),(0,a.iD)("svg",o,i)):(0,a.kq)("",!0),(0,a.WI)(e.$slots,"default")],8,r)}]])},2133:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(6252),r=n(3577),o=n(9963),i={class:"flex justify-between items-center"};const l={emits:["opened","closed"],components:{Icon:n(9687).Z},props:{widthMode:{type:String,default:"document"}},data:function(){return{show:!1,animate:!1}},methods:{open:function(){var e=this;document.addEventListener("transitionend",this.openTransitionEnd),this.show=!0,this.doubleRequestAnimationFrame((function(){e.animate=!0}))},close:function(){document.addEventListener("transitionend",this.closeTransitionEnd),this.animate=!1},doubleRequestAnimationFrame:function(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))},openTransitionEnd:function(e){"DIV"==e.target.tagName&&"transform"==e.propertyName&&(this.$emit("opened"),document.removeEventListener("transitionend",this.openTransitionEnd))},closeTransitionEnd:function(e){"DIV"==e.target.tagName&&"transform"==e.propertyName&&(this.$emit("closed"),this.show=!1,document.removeEventListener("transitionend",this.closeTransitionEnd))}}};var s=n(3379),d=n.n(s),c=n(7783),u={insert:"head",singleton:!1};d()(c.Z,u);c.Z.locals;const m=(0,n(3744).Z)(l,[["render",function(e,t,n,l,s,d){var c=(0,a.up)("icon");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(["inset-0 z-30 fixed flex items-center justify-center backdrop",{open:s.animate}])},[s.show?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,r.C_)(["bg-soft-theme-light rounded shadow p-4 md:p-8 xl:p-10 modal-appear-from-top",{open:s.animate,"w-11/12 md:10/12":"document"==n.widthMode,"w-11/12 sm:10/12 md:w-3/5 xl:w-2/5":"form-cols-1"==n.widthMode}])},[(0,a._)("div",i,[(0,a._)("div",null,[(0,a.WI)(e.$slots,"header",{},void 0,!0)]),(0,a._)("button",{onClick:t[0]||(t[0]=function(e){return d.close()}),class:"block p-2 rounded-full hover:bg-white bg-soft-theme-light transition-colors ease-in-out duration-200"},[(0,a.Wm)(c,{name:"times",class:"w-4 h-4"})])]),(0,a._)("div",null,[(0,a.WI)(e.$slots,"body",{},void 0,!0)]),(0,a._)("div",null,[(0,a.WI)(e.$slots,"footer",{},void 0,!0)])],2)):(0,a.kq)("",!0)],2)),[[o.F8,s.show]])}],["__scopeId","data-v-61420732"]])},4180:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(6252),r=n(2262),o=n(3577),i=n(9009),l=n(9687),s=n(5937),d=n.n(s),c=n(3493),u=n.n(c),m={class:"flex items-center w-full md:w-auto"},p={class:"flex justify-end form-input md:w-auto border-l-0 rounded-l-none"},f={class:"flex items-center cursor-pointer select-none group"},h=(0,a._)("div",null,"Scope : ",-1),w={class:"group-hover:text-bitter-theme-light focus:text-bitter-theme-light mr-1 whitespace-no-wrap"},g={class:"text-thick-theme-light group-hover:text-bitter-theme-light focus:text-bitter-theme-light"},b={class:"mt-2 py-2 shadow-xl bg-white text-thick-theme-light cursor-pointer rounded text-sm"},v=["onClick"];const y={props:{scopes:{type:Array,default:function(){return[]}},form:{type:Object,required:!0}},emits:["searchChanged","scopeChanged"],setup:function(e){var t=e;return(0,a.YP)((function(){return t.form}),u()((function(e){var t=d()(e);console.log(t)}),800),{deep:!0}),function(t,n){return(0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("input",{class:"form-input md:w-auto border-r-0 rounded-r-none",type:"text",name:"search",onInput:n[0]||(n[0]=function(e){return t.$emit("searchChanged",e.target.value)}),placeholder:"search...",autocomplete:"off"},null,32),(0,a._)("div",p,[(0,a.Wm)((0,r.SU)(i.Z),null,{default:(0,a.w5)((function(){return[(0,a._)("div",f,[h,(0,a._)("div",w,[(0,a._)("span",g,(0,o.zw)(e.form.scope),1)]),(0,a.Wm)((0,r.SU)(l.Z),{class:"w-4 h-4 text-thick-theme-light group-hover:text-bitter-theme-light focus:text-bitter-theme-light",name:"double-down"})])]})),dropdown:(0,a.w5)((function(){return[(0,a._)("div",b,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.scopes,(function(e,n){return(0,a.wg)(),(0,a.iD)("button",{class:"block w-full text-left font-semibold px-6 py-2 transition-colors duration-200 ease-out hover:bg-soft-theme-light hover:text-bitter-theme-light",key:n,onClick:function(n){return t.$emit("scopeChanged",e)}},(0,o.zw)(e),9,v)})),128))])]})),_:1})])])}}}},5972:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var a=n(6252),r=n(2262),o=n(3577),i=n(9687),l=n(9963),s=n(2133),d=n(4511),c=n(8019);function u(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var p={class:"font-semibold text-thick-theme-light"},f={class:"py-4 my-2 md:py-6 md:my-4 border-t border-b border-bitter-theme-light"},h=(0,a.Uk)(" SEARCH "),w=(0,a._)("hr",{class:"my-4 md:my-6"},null,-1),g={class:"form-label block"},b={class:"bg-gray-100 text-gray-100 whitespace-nowrap"},v={key:1,class:"bg-white rounded shadow p-2 lg:p-4 text-sm"},y={class:"text-thick-theme-light uppercase font-semibold"},x={class:"flex justify-end items-center"},_=["disabled"];const k={props:{heading:{type:String,default:"Search Admission"},confirmLabel:{type:String,default:"CONFIRM"},mode:{type:String,default:"an"}},emits:["confirmed"],setup:function(e,t){var n=t.expose,i=t.emit,m=e,k=(0,r.iH)(null),S=(0,r.iH)(null),C=(0,r.iH)(""),D=(0,r.iH)(""),U=(0,r.iH)(!1),z=(0,r.qj)({an:"",hn:"",name:"",gender:"",age:"",ward_admit:"",admitted_at:"",discharged_at:""}),A=function(){U.value=!0,D.value="",z.hn="";var e="an"===m.mode?"resources.api.admissions.show":"resources.api.patient-recently-admission.show";window.axios.get(window.route(e,C.value)).then((function(e){e.data.hn?(e.data.found&&!e.data.discharged_at||(D.value="No active admission"),"hn"===m.mode&&(z.an=e.data.an),z.hn=e.data.hn,z.name=e.data.name,z.gender=e.data.gender,z.age=e.data.age,z.ward_admit=e.data.ward_admit,z.admitted_at=e.data.admitted_at,z.discharged_at=e.data.discharged_at):D.value="Patient not found"})).catch((function(e){console.log(e)})).finally((function(){return U.value=!1}))},Z=function(){C.value="",D.value="",z.hn=""},I=function(){k.value.close(),i("confirmed",{hn:z.hn,an:z.an})};return n({open:function(){k.value.open(),(0,a.Y3)((function(){return S.value.focus()}))}}),function(t,n){return(0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a.Wm)((0,r.SU)(s.Z),{ref:function(e,t){t.modal=e,k.value=e},"width-mode":"form-cols-1",onClosed:Z},{header:(0,a.w5)((function(){return[(0,a._)("div",p,(0,o.zw)(e.heading),1)]})),body:(0,a.w5)((function(){return[(0,a._)("div",f,[(0,a.Wm)((0,r.SU)(d.Z),{name:"an",label:e.mode,modelValue:C.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return C.value=e}),pattern:"\\d*",type:"number",ref:function(e,t){t.anInput=e,S.value=e},error:D.value,onKeydown:(0,l.D2)(A,["enter"])},null,8,["label","modelValue","error","onKeydown"]),(0,a.Wm)((0,r.SU)(c.Z),{spin:U.value,class:"btn-dark w-full mt-2",onClick:A,disabled:!C.value.length},{default:(0,a.w5)((function(){return[h]})),_:1},8,["spin","disabled"]),w,(0,a._)("span",g,(0,o.zw)("hn"===e.mode?"Latest ":"")+" Admission Data",1),(0,r.SU)(z).hn?((0,a.wg)(),(0,a.iD)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u(Object.keys((0,r.SU)(z))).filter((function(e){return(0,r.SU)(z)[e]})),(function(e){return(0,a.wg)(),(0,a.iD)("p",{class:"mt-1 whitespace-nowrap",key:e},[(0,a._)("span",y,(0,o.zw)(e.replaceAll("_"," "))+" : ",1),(0,a.Uk)(" "+(0,o.zw)((0,r.SU)(z)[e]),1)])})),128))])):((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,o.C_)(["bg-white rounded shadow p-2 lg:p-4 text-sm",{"animate-pulse":U.value}])},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys((0,r.SU)(z)),(function(e){return(0,a.wg)(),(0,a.iD)("div",{class:"mt-1",key:e},[(0,a._)("span",b,(0,o.zw)(e)+" placeholder ",1)])})),128))],2))])]})),footer:(0,a.w5)((function(){return[(0,a._)("div",x,[(0,a._)("button",{class:"btn btn-bitter",onClick:I,disabled:!(0,r.SU)(z).hn},(0,o.zw)(e.confirmLabel),9,_)])]})),_:1},512)])}}};var S=n(4180),C=n(9038),D={class:"md:pb-12"},U={class:"flex flex-col-reverse md:flex-row justify-between items-center mb-4"},z={class:"bg-white rounded shadow overflow-x-auto hidden md:block"},A={class:"w-full whitespace-no-wrap"},Z=(0,a._)("tr",{class:"text-left font-semibold"},[(0,a._)("th",{class:"px-6 pt-6 pb-4"}," AN "),(0,a._)("th",{class:"px-6 pt-6 pb-4"}," HN "),(0,a._)("th",{class:"px-6 pt-6 pb-4"}," Name "),(0,a._)("th",{class:"px-6 pt-6 pb-4",colspan:"2"}," Ward ")],-1),I={class:"px-6 py4 border-t"},j={class:"flex items-center"},H={class:"px-6 py4 border-t"},W={class:"flex items-center"},$={class:"px-6 py4 border-t"},q={class:"flex items-center"},E={class:"px-6 py4 border-t"},N={class:"flex items-center"},V={class:"border-t"},L={class:"p-2 rounded-full bg-white hover:bg-alt-theme-light transition-colors ease-in-out duration-200"},Y={class:"md:hidden"},F={class:"my-2"},O={class:"my-2"};const K={props:{cases:{type:Object,required:!0},filters:{type:Object,required:!0}},setup:function(e){var t=e,n=(0,r.iH)(null),l=(0,C.cI)({hn:null,an:null}),s=(0,C.cI)({search:t.filters.search,scope:t.filters.scope}),d=function(e){l.hn=e.hn,l.an=e.an,l.post(window.route("procedures.acute-hemodialysis.store"))};return function(t,l){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",D,[(0,a._)("div",U,[(0,a.Wm)((0,r.SU)(S.Z),{scopes:["active","discharged","all"],form:(0,r.SU)(s),onSearchChanged:l[0]||(l[0]=function(e){return(0,r.SU)(s).search=e}),onScopeChanged:l[1]||(l[1]=function(e){return(0,r.SU)(s).scope=e})},null,8,["form"]),(0,a._)("button",{class:"btn btn-bitter w-full mb-4 md:w-auto md:px-4 md:mb-0",onClick:l[2]||(l[2]=function(e){return t.$refs.admissionForm.open()})}," Create New Case ")]),(0,a._)("div",z,[(0,a._)("table",A,[Z,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cases.data,(function(e,n){return(0,a.wg)(),(0,a.iD)("tr",{class:"focus-within:bg-alt-theme-light",key:n},[(0,a._)("td",I,[(0,a._)("div",j,(0,o.zw)(e.an),1)]),(0,a._)("td",H,[(0,a._)("div",W,(0,o.zw)(e.hn),1)]),(0,a._)("td",$,[(0,a._)("div",q,(0,o.zw)(e.patient_name),1)]),(0,a._)("td",E,[(0,a._)("div",N,(0,o.zw)(e.ward),1)]),(0,a._)("td",V,[(0,a.Wm)((0,r.SU)(C.rU),{class:"px-4 py-2 flex items-center focus:text-alt-theme-light",href:t.route("procedures.acute-hemodialysis.edit",e.slug)},{default:(0,a.w5)((function(){return[(0,a._)("div",L,[(0,a.Wm)((0,r.SU)(i.Z),{class:"w-4 h-4 text-thick-theme-light",name:"double-right"})])]})),_:2},1032,["href"])])])})),128))])]),(0,a._)("div",Y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cases.data,(function(e,n){return(0,a.wg)(),(0,a.iD)("div",{class:"bg-white rounded shadow my-4 p-4",key:n},[(0,a.Wm)((0,r.SU)(C.rU),{class:"flex items-center justify-between focus:text-alt-theme-light",href:t.route("procedures.acute-hemodialysis.edit",e)},{default:(0,a.w5)((function(){return[(0,a._)("div",null,[(0,a._)("div",F," HN: "+(0,o.zw)(e.hn)+" "+(0,o.zw)(e.patient_name),1),(0,a._)("div",O," AN: "+(0,o.zw)(e.an)+" "+(0,o.zw)(e.ward),1)]),(0,a.Wm)((0,r.SU)(i.Z),{class:"w-4 h-4 text-thick-theme-light",name:"double-right"})]})),_:2},1032,["href"])])})),128))])]),(0,a.Wm)((0,r.SU)(k),{ref:function(e,t){t.admissionForm=e,n.value=e},onConfirmed:d,mode:"hn"},null,512)],64)}}}}}]);