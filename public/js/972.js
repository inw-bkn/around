"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[972],{7783:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".modal-appear-from-top[data-v-61420732]{opacity:0;transform:translateY(-100%);transition:all .2s ease}.modal-appear-from-top.open[data-v-61420732]{opacity:1;transform:translateY(0)}.modal-appear[data-v-61420732]{opacity:0;transform:scale(0);transition:all .2s ease}.modal-appear.open[data-v-61420732]{opacity:1;transform:scale(1)}.backdrop[data-v-61420732]{background-color:transparent;transition:background-color .2s ease}.backdrop.open[data-v-61420732]{background-color:rgba(0,0,0,.25)}",""]);const o=a},9965:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(6252),a=n(3577),o=n(2262),i={class:"w-full"},l=["for"],s={key:1,class:"flex"},d=["id","name","type","placeholder","pattern","readonly","value"],u={class:"w-auto flex items-center px-2 border-2 border-gray-200 rounded shadow-sm border-l-0 rounded-l-none bg-gray-50"},c={class:"inline-flex items-center"},m=["checked"],p={class:"ml-4 text-lg cursor-pointer whitespace-nowrap"},f=["id","name","type","placeholder","pattern","readonly","value"],h={key:3,class:"text-red-700 mt-2 text-sm"};const g={props:{modelValue:{type:[String,Number,null],default:""},modelCheckbox:{type:Boolean},name:{type:String,required:!0},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},pattern:{type:String,default:""},readonly:{type:Boolean},error:{type:String,default:""},switchLabel:{type:String,default:""}},emits:["autosave","update:modelValue","update:modelCheckbox"],setup:function(e,t){var n=t.expose,g=t.emit,w=(0,o.iH)(null),b=function(e){g("update:modelCheckbox",e.target.checked),g("autosave")};return n({focus:function(){w.value.focus()}}),function(t,n){return(0,r.wg)(),(0,r.iD)("div",i,[e.label?((0,r.wg)(),(0,r.iD)("label",{key:0,class:"form-label",for:e.name},(0,a.zw)(e.label)+" :",9,l)):(0,r.kq)("",!0),e.switchLabel?((0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("input",{id:e.name,name:e.name,ref_key:"input",ref:w,onInput:n[0]||(n[0]=function(e){return t.$emit("update:modelValue",t.$refs.input.value)}),onChange:n[1]||(n[1]=function(e){return t.$emit("autosave")}),type:e.type,placeholder:e.placeholder,pattern:e.pattern,readonly:e.readonly,value:e.modelValue,class:(0,a.C_)(["form-input border-r-0 rounded-r-none",{"border-red-400":e.error}])},null,42,d),(0,r._)("div",u,[(0,r._)("label",c,[(0,r._)("input",{type:"checkbox",class:"shadow-xs h-6 w-6 transition-all duration-200 ease-in-out appearance-none color inline-block align-middle border border-gray-400 select-none shrink-0 rounded cursor-pointer focus:outline-none",checked:e.modelCheckbox,onChange:b},null,40,m),(0,r._)("span",p,(0,a.zw)(e.switchLabel),1)])])])):((0,r.wg)(),(0,r.iD)("input",{key:2,id:e.name,name:e.name,ref_key:"input",ref:w,onInput:n[2]||(n[2]=function(e){return t.$emit("update:modelValue",t.$refs.input.value)}),onChange:n[3]||(n[3]=function(e){return t.$emit("autosave")}),type:e.type,placeholder:e.placeholder,pattern:e.pattern,readonly:e.readonly,value:e.modelValue,class:(0,a.C_)(["form-input",{"border-red-400 text-red-400":e.error}])},null,42,f)),e.error?((0,r.wg)(),(0,r.iD)("div",h,(0,a.zw)(e.error),1)):(0,r.kq)("",!0)])}}}},8475:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(6252),a=["disabled"],o={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},i=[(0,r._)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,r._)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)];const l={props:{disabled:{type:Boolean},spin:{type:Boolean}},emits:["click"],setup:function(e){return function(t,n){return(0,r.wg)(),(0,r.iD)("button",{class:"btn inline-flex justify-center items-center",onClick:n[0]||(n[0]=function(e){return t.$emit("click")}),disabled:e.disabled||e.spin},[e.spin?((0,r.wg)(),(0,r.iD)("svg",o,i)):(0,r.kq)("",!0),(0,r.WI)(t.$slots,"default")],8,a)}}}},2133:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(6252),a=n(3577),o=n(9963),i={class:"flex justify-between items-center"};const l={emits:["opened","closed"],components:{Icon:n(7618).Z},props:{widthMode:{type:String,default:"document"}},data:function(){return{show:!1,animate:!1}},methods:{open:function(){var e=this;document.addEventListener("transitionend",this.openTransitionEnd),this.show=!0,this.doubleRequestAnimationFrame((function(){e.animate=!0}))},close:function(){document.addEventListener("transitionend",this.closeTransitionEnd),this.animate=!1},doubleRequestAnimationFrame:function(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))},openTransitionEnd:function(e){"DIV"==e.target.tagName&&"transform"==e.propertyName&&(this.$emit("opened"),document.removeEventListener("transitionend",this.openTransitionEnd))},closeTransitionEnd:function(e){"DIV"==e.target.tagName&&"transform"==e.propertyName&&(this.$emit("closed"),this.show=!1,document.removeEventListener("transitionend",this.closeTransitionEnd))}}};var s=n(3379),d=n.n(s),u=n(7783),c={insert:"head",singleton:!1};d()(u.Z,c);u.Z.locals;const m=(0,n(3744).Z)(l,[["render",function(e,t,n,l,s,d){var u=(0,r.up)("icon");return(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(["inset-0 z-30 fixed flex items-center justify-center backdrop",{open:s.animate}])},[s.show?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,a.C_)(["bg-soft-theme-light rounded shadow p-4 md:p-8 xl:p-10 modal-appear-from-top",{open:s.animate,"w-11/12 md:10/12":"document"==n.widthMode,"w-11/12 sm:10/12 md:w-3/5 xl:w-2/5":"form-cols-1"==n.widthMode}])},[(0,r._)("div",i,[(0,r._)("div",null,[(0,r.WI)(e.$slots,"header",{},void 0,!0)]),(0,r._)("button",{onClick:t[0]||(t[0]=function(e){return d.close()}),class:"block p-2 rounded-full hover:bg-white bg-soft-theme-light transition-colors ease-in-out duration-200"},[(0,r.Wm)(u,{name:"times",class:"w-4 h-4"})])]),(0,r._)("div",null,[(0,r.WI)(e.$slots,"body",{},void 0,!0)]),(0,r._)("div",null,[(0,r.WI)(e.$slots,"footer",{},void 0,!0)])],2)):(0,r.kq)("",!0)],2)),[[o.F8,s.show]])}],["__scopeId","data-v-61420732"]])},4180:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(6252),a=n(2262),o=n(3577),i=n(9009),l=n(7618),s=n(5937),d=n.n(s),u=n(3493),c=n.n(u),m={class:"flex items-center w-full md:w-auto"},p={class:"flex justify-end form-input md:w-auto border-l-0 rounded-l-none"},f={class:"flex items-center cursor-pointer select-none group"},h=(0,r._)("div",null,"Scope : ",-1),g={class:"group-hover:text-bitter-theme-light focus:text-bitter-theme-light mr-1 whitespace-no-wrap"},w={class:"text-thick-theme-light group-hover:text-bitter-theme-light focus:text-bitter-theme-light"},b={class:"mt-2 py-2 shadow-xl bg-white text-thick-theme-light cursor-pointer rounded text-sm"},y=["onClick"];const v={props:{scopes:{type:Array,default:function(){return[]}},form:{type:Object,required:!0}},emits:["searchChanged","scopeChanged"],setup:function(e){var t=e;return(0,r.YP)((function(){return t.form}),c()((function(e){var t=d()(e);console.log(t)}),800),{deep:!0}),function(t,n){return(0,r.wg)(),(0,r.iD)("div",m,[(0,r._)("input",{class:"form-input md:w-auto border-r-0 rounded-r-none",type:"text",name:"search",onInput:n[0]||(n[0]=function(e){return t.$emit("searchChanged",e.target.value)}),placeholder:"search...",autocomplete:"off"},null,32),(0,r._)("div",p,[(0,r.Wm)((0,a.SU)(i.Z),null,{default:(0,r.w5)((function(){return[(0,r._)("div",f,[h,(0,r._)("div",g,[(0,r._)("span",w,(0,o.zw)(e.form.scope),1)]),(0,r.Wm)((0,a.SU)(l.Z),{class:"w-4 h-4 text-thick-theme-light group-hover:text-bitter-theme-light focus:text-bitter-theme-light",name:"double-down"})])]})),dropdown:(0,r.w5)((function(){return[(0,r._)("div",b,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.scopes,(function(e,n){return(0,r.wg)(),(0,r.iD)("button",{class:"block w-full text-left font-semibold px-6 py-2 transition-colors duration-200 ease-out hover:bg-soft-theme-light hover:text-bitter-theme-light",key:n,onClick:function(n){return t.$emit("scopeChanged",e)}},(0,o.zw)(e),9,y)})),128))])]})),_:1})])])}}}},5972:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});var r=n(6252),a=n(2262),o=n(3577),i=n(7618),l=n(9963),s=n(2133),d=n(9965),u=n(8475);function c(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={class:"font-semibold text-thick-theme-light"},f={class:"py-4 my-2 md:py-6 md:my-4 border-t border-b border-bitter-theme-light"},h=(0,r.Uk)(" SEARCH "),g=(0,r._)("hr",{class:"my-4 md:my-6"},null,-1),w={class:"form-label block"},b={class:"bg-gray-100 text-gray-100 whitespace-nowrap"},y={key:1,class:"bg-white rounded shadow p-2 lg:p-4 text-sm"},v={class:"text-thick-theme-light uppercase font-semibold"},x={class:"flex justify-end items-center"},k=["disabled"];const _={props:{heading:{type:String,default:"Search Admission"},confirmLabel:{type:String,default:"CONFIRM"},mode:{type:String,default:"an"}},emits:["confirmed"],setup:function(e,t){var n=t.expose,i=t.emit,m=e,_=(0,a.iH)(null),C=(0,a.iH)(null),S=(0,a.iH)(""),D=(0,a.iH)(""),U=(0,a.iH)(!1),H=(0,a.qj)({an:"",hn:"",name:"",gender:"",age:"",ward_admit:"",admitted_at:"",discharged_at:""}),z=(0,a.Fl)((function(){return H.admitted_at?H.discharged_at?"latest admission":"active admission":H.hn?"patient data":null})),j=function(){U.value=!0,D.value="",H.hn="";var e="an"===m.mode?"resources.api.admissions.show":"resources.api.patient-recently-admission.show";window.axios.get(window.route(e,S.value)).then((function(e){e.data.hn?(e.data.found&&!e.data.discharged_at||(D.value="No active admission"),"hn"===m.mode&&(H.an=e.data.an,H.location=e.data.location),H.hn=e.data.hn,H.name=e.data.name,H.gender=e.data.gender,H.age=e.data.age,H.ward_admit=e.data.ward_admit,H.admitted_at=e.data.admitted_at,H.discharged_at=e.data.discharged_at):D.value="Patient not found"})).catch((function(e){console.log(e)})).finally((function(){return U.value=!1}))},I=function(){S.value="",D.value="",H.hn=""},Z=function(){_.value.close(),i("confirmed",{hn:H.hn,an:H.an})};return n({open:function(){_.value.open(),(0,r.Y3)((function(){return C.value.focus()}))}}),function(t,n){return(0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[(0,r.Wm)((0,a.SU)(s.Z),{ref_key:"modal",ref:_,"width-mode":"form-cols-1",onClosed:I},{header:(0,r.w5)((function(){return[(0,r._)("div",p,(0,o.zw)(e.heading),1)]})),body:(0,r.w5)((function(){return[(0,r._)("div",f,[(0,r.Wm)((0,a.SU)(d.Z),{name:"an",label:e.mode,modelValue:S.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return S.value=e}),pattern:"\\d*",type:"number",ref_key:"anInput",ref:C,error:D.value,onKeydown:(0,l.D2)(j,["enter"])},null,8,["label","modelValue","error","onKeydown"]),(0,r.Wm)((0,a.SU)(u.Z),{spin:U.value,class:"btn-dark w-full mt-2",onClick:j,disabled:!S.value.length},{default:(0,r.w5)((function(){return[h]})),_:1},8,["spin","disabled"]),g,(0,r._)("span",w,(0,o.zw)((0,a.SU)(z)),1),(0,a.SU)(H).hn?((0,r.wg)(),(0,r.iD)("div",y,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c(Object.keys((0,a.SU)(H))).filter((function(e){return(0,a.SU)(H)[e]})),(function(e){return(0,r.wg)(),(0,r.iD)("p",{class:"mt-1 whitespace-nowrap",key:e},[(0,r._)("span",v,(0,o.zw)(e.replaceAll("_"," "))+" : ",1),(0,r.Uk)(" "+(0,o.zw)((0,a.SU)(H)[e]),1)])})),128))])):((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,o.C_)(["bg-white rounded shadow p-2 lg:p-4 text-sm",{"animate-pulse":U.value}])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Object.keys((0,a.SU)(H)),(function(e){return(0,r.wg)(),(0,r.iD)("div",{class:"mt-1",key:e},[(0,r._)("span",b,(0,o.zw)(e)+" placeholder ",1)])})),128))],2))])]})),footer:(0,r.w5)((function(){return[(0,r._)("div",x,[(0,r._)("button",{class:"btn btn-bitter",onClick:Z,disabled:!(0,a.SU)(H).hn},(0,o.zw)(e.confirmLabel),9,k)])]})),_:1},512)])}}};var C=n(4180),S=n(9038),D=(n(8718),n(5937)),U=n.n(D),H=n(3279),z=n.n(H),j=n(9680),I={class:"md:pb-12"},Z={class:"flex flex-col-reverse md:flex-row justify-between items-center mb-4"},W={class:"bg-white rounded shadow overflow-x-auto hidden md:block"},$={class:"w-full whitespace-nowrap"},A={class:"text-left font-semibold"},Y=["textContent","colspan"],q=["textContent"],L={class:"border-t"},E={class:"p-2 rounded-full bg-white hover:bg-alt-theme-light transition-colors ease-in-out duration-200"},M={class:"md:hidden"},N={class:"w-full"},V={class:"my-2 pl-2"},O={class:"my-2 p-2 bg-gray-100 rounded space-y-2"},T={key:0,class:"flex justfy-center items-center h-12"},K=[(0,r._)("p",{class:"italic text-center w-full"}," No orders ",-1)],F={class:"flex items-center justify-between"},B=(0,r._)("p",{class:"text-xs italic text-thick-theme-light font-semibold"}," Latest ",-1),R={class:"font-semibold text-bitter-theme-light text-xs flex items-center"},P={class:"block italic truncate"},G={class:"flex items-center justify-between"},J=(0,r.Uk)(" Dialyze : "),Q=["textContent"],X=(0,r.Uk)(" Ordered : "),ee=["textContent"],te=(0,r._)("template",null,null,-1),ne={key:0},re={class:"flex flex-wrap -mb-1 mt-4"},ae=["innerHTML"];const oe={props:{cases:{type:Object,required:!0},filters:{type:Object,required:!0}},setup:function(e){var t=e,n=(0,a.iH)(null),l=(0,S.cI)({hn:null,an:null}),s=(0,a.qj)({search:t.filters.search,scope:t.filters.scope});(0,r.YP)((function(){return s}),z()((function(){var e=U()(s),t=Object.keys(e).filter((function(t){return e[t]})).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&");t="?"+(t||"remember=forget"),j.Inertia.visit(window.route("procedures.acute-hemodialysis.index")+t,{preserveState:!0})}),400),{deep:!0});var d=function(e){l.hn=e.hn,l.an=e.an,l.post(window.route("procedures.acute-hemodialysis.store"))};return function(t,l){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",I,[(0,r._)("div",Z,[(0,r.Wm)((0,a.SU)(C.Z),{scopes:["active","discharged","all"],form:(0,a.SU)(s),onSearchChanged:l[0]||(l[0]=function(e){return(0,a.SU)(s).search=e}),onScopeChanged:l[1]||(l[1]=function(e){return(0,a.SU)(s).scope=e})},null,8,["form"]),(0,r._)("button",{class:"btn btn-bitter w-full mb-4 md:w-auto md:px-4 md:mb-0",onClick:l[2]||(l[2]=function(e){return t.$refs.admissionForm.open()})}," Create New Case ")]),(0,r._)("div",W,[(0,r._)("table",$,[(0,r._)("tr",A,[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(["HN","Name","Dialyze on","Ordered on","MD"],(function(e){return(0,r._)("th",{class:"px-6 pt-6 pb-4",key:e,textContent:(0,o.zw)(e),colspan:"MD"===e?2:1},null,8,Y)})),64))]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.cases.data,(function(e,n){return(0,r.wg)(),(0,r.iD)("tr",{class:"focus-within:bg-alt-theme-light",key:n},[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(["hn","patient_name","date_dialyze","date_reserved","md"],(function(t){return(0,r._)("td",{class:"px-6 py4 border-t",key:t,textContent:(0,o.zw)(e[t])},null,8,q)})),64)),(0,r._)("td",L,[(0,r.Wm)((0,a.SU)(S.rU),{class:"px-4 py-2 flex items-center focus:text-alt-theme-light",href:t.route("procedures.acute-hemodialysis.edit",e.slug)},{default:(0,r.w5)((function(){return[(0,r._)("div",E,[(0,r.Wm)((0,a.SU)(i.Z),{class:"w-4 h-4 text-thick-theme-light",name:"double-right"})])]})),_:2},1032,["href"])])])})),128))])]),(0,r._)("div",M,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.cases.data,(function(e,n){return(0,r.wg)(),(0,r.iD)("div",{class:"bg-white rounded shadow my-4 p-4",key:n},[(0,r.Wm)((0,a.SU)(S.rU),{class:"flex items-center justify-between focus:text-alt-theme-light space-x-4",href:t.route("procedures.acute-hemodialysis.edit",e.slug)},{default:(0,r.w5)((function(){return[(0,r._)("div",N,[(0,r._)("div",V," HN: "+(0,o.zw)(e.hn)+" "+(0,o.zw)(e.patient_name),1),(0,r._)("div",O,[e.md?((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r._)("div",F,[B,(0,r._)("p",R,[(0,r.Wm)((0,a.SU)(i.Z),{name:"user-md",class:"h-3 w-3 mr-1"}),(0,r._)("span",P,(0,o.zw)(e.md),1)])]),(0,r._)("div",G,[(0,r._)("p",null,[J,(0,r._)("span",{class:"text-dark-theme-light font-semibold",textContent:(0,o.zw)(e.date_dialyze)},null,8,Q)]),(0,r._)("p",null,[X,(0,r._)("span",{class:"text-dark-theme-light font-semibold",textContent:(0,o.zw)(e.date_reserved)},null,8,ee)])]),te],64)):((0,r.wg)(),(0,r.iD)("div",T,K))])]),(0,r.Wm)((0,a.SU)(i.Z),{class:"w-4 h-4 text-thick-theme-light",name:"double-right"})]})),_:2},1032,["href"])])})),128))]),e.cases.links.length>3?((0,r.wg)(),(0,r.iD)("div",ne,[(0,r._)("div",re,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.cases.links,(function(e,t){return(0,r.wg)(),(0,r.iD)(r.HY,null,[null===e.url?((0,r.wg)(),(0,r.iD)("div",{key:t,class:"mr-1 mb-1 px-4 py-3 text-sm leading-4 bg-gray-200 text-gray-400 border rounded cursor-not-allowed",innerHTML:e.label},null,8,ae)):((0,r.wg)(),(0,r.j4)((0,a.SU)(S.rU),{key:t+"theLink",class:(0,o.C_)(["mr-1 mb-1 px-4 py-3 text-sm text-dark-theme-light leading-4 border border-alt-theme-light rounded hover:bg-white focus:border-dark-theme-light focus:text-dark-theme-light transition-colors",{"bg-alt-theme-light cursor-not-allowed hover:bg-alt-theme-light":e.active}]),href:e.url,as:"button",disabled:e.active,innerHTML:e.label},null,8,["class","href","disabled","innerHTML"]))],64)})),256))])])):(0,r.kq)("",!0)]),(0,r.Wm)((0,a.SU)(_),{ref_key:"admissionForm",ref:n,onConfirmed:d,mode:"hn"},null,512)],64)}}}}}]);